======================================== test session starts ========================================
platform darwin -- Python 3.13.2, pytest-8.3.5, pluggy-1.5.0
rootdir: /Users/celine/Research/librarybench
configfile: pyproject.toml
plugins: anyio-4.9.0, json-report-1.5.0, metadata-3.1.1
collected 41 items

Software_Architect/test_compatibility.py .............                                        [ 31%]
Software_Architect/test_integration.py .....                                                  [ 43%]
DataAnalyst/test_data_processor.py ..............                                             [ 78%]
Data_Scientist/tests/test_serializer.py .FFFFFF..                                             [100%]

============================================= FAILURES ==============================================
_______________________________________ test_yaml_round_trip ________________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x1043e7250>

    def test_yaml_round_trip(transformer):
>       s = transformer.serialize(simple_data, 'yaml')

Data_Scientist/tests/test_serializer.py:38: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <Data_Scientist.src.serializer.DataTransformer object at 0x1043e7250>
data = {'active': True, 'age': 30, 'name': 'Alice', 'preferences': None, ...}, fmt = 'yaml'

    def serialize(self, data, fmt):
        """
        Serialize Python data to the specified format.
        Supported formats: 'json', 'yaml', 'xml'.
        Returns a string representation.
        """
        if fmt == 'json':
            return json.dumps(data)
        elif fmt == 'yaml':
>           return yaml.dump(data)
E           NameError: name 'yaml' is not defined

Data_Scientist/src/serializer.py:26: NameError
____________________________________ test_xml_round_trip_simple _____________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x1043e7750>

    def test_xml_round_trip_simple(transformer):
        s = transformer.serialize(simple_data, 'xml')
        assert s.startswith('<root>')
        d = transformer.deserialize(s, 'xml')
>       assert d == simple_data
E       AssertionError: assert {'active': Tr...: 'None', ...} == {'active': Tr...s': None, ...}
E         
E         Omitting 4 identical items, use -vv to show
E         Differing items:
E         {'preferences': 'None'} != {'preferences': None}
E         Use -v to get more diff

Data_Scientist/tests/test_serializer.py:47: AssertionError
____________________________________ test_xml_round_trip_nested _____________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x104505cd0>

    def test_xml_round_trip_nested(transformer):
        s = transformer.serialize(nested_data, 'xml')
        d = transformer.deserialize(s, 'xml')
>       assert d == nested_data
E       AssertionError: assert {'stats': {'m... 'None', ...}} == {'stats': {'m...': None, ...}}
E         
E         Omitting 2 identical items, use -vv to show
E         Differing items:
E         {'user': {'active': True, 'age': 30, 'name': 'Alice', 'preferences': 'None', ...}} != {'user': {'active': True, 'age': 30, 'name': 'Alice', 'preferences': None, ...}}
E         Use -v to get more diff

Data_Scientist/tests/test_serializer.py:52: AssertionError
____________________________________ test_cross_language_support ____________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x1045055b0>

    def test_cross_language_support(transformer):
        for fmt in transformer.SUPPORTED_FORMATS:
>           serialized, deserialized, ok = transformer.cross_language_support(nested_data, fmt)

Data_Scientist/tests/test_serializer.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
Data_Scientist/src/serializer.py:54: in cross_language_support
    serialized = self.serialize(data, fmt)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <Data_Scientist.src.serializer.DataTransformer object at 0x1045055b0>
data = {'stats': {'max': 100, 'min': 0, 'values': [1, 2, 3]}, 'tags': ['python', 'testing'], 'user': {'active': True, 'age': 30, 'name': 'Alice', 'preferences': None, ...}}
fmt = 'yaml'

    def serialize(self, data, fmt):
        """
        Serialize Python data to the specified format.
        Supported formats: 'json', 'yaml', 'xml'.
        Returns a string representation.
        """
        if fmt == 'json':
            return json.dumps(data)
        elif fmt == 'yaml':
>           return yaml.dump(data)
E           NameError: name 'yaml' is not defined

Data_Scientist/src/serializer.py:26: NameError
____________________________________ test_data_integrity_checks _____________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x1045632f0>

    def test_data_integrity_checks(transformer):
>       checks = transformer.data_integrity_checks(simple_data)

Data_Scientist/tests/test_serializer.py:67: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
Data_Scientist/src/serializer.py:67: in data_integrity_checks
    serialized = self.serialize(data, fmt)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <Data_Scientist.src.serializer.DataTransformer object at 0x1045632f0>
data = {'active': True, 'age': 30, 'name': 'Alice', 'preferences': None, ...}, fmt = 'yaml'

    def serialize(self, data, fmt):
        """
        Serialize Python data to the specified format.
        Supported formats: 'json', 'yaml', 'xml'.
        Returns a string representation.
        """
        if fmt == 'json':
            return json.dumps(data)
        elif fmt == 'yaml':
>           return yaml.dump(data)
E           NameError: name 'yaml' is not defined

Data_Scientist/src/serializer.py:26: NameError
______________________________________ test_nested_structures _______________________________________

transformer = <Data_Scientist.src.serializer.DataTransformer object at 0x104aad6a0>

    def test_nested_structures(transformer):
>       results = transformer.nested_structures(nested_data)

Data_Scientist/tests/test_serializer.py:80: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
Data_Scientist/src/serializer.py:81: in nested_structures
    return self.data_integrity_checks(data)
Data_Scientist/src/serializer.py:67: in data_integrity_checks
    serialized = self.serialize(data, fmt)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <Data_Scientist.src.serializer.DataTransformer object at 0x104aad6a0>
data = {'stats': {'max': 100, 'min': 0, 'values': [1, 2, 3]}, 'tags': ['python', 'testing'], 'user': {'active': True, 'age': 30, 'name': 'Alice', 'preferences': None, ...}}
fmt = 'yaml'

    def serialize(self, data, fmt):
        """
        Serialize Python data to the specified format.
        Supported formats: 'json', 'yaml', 'xml'.
        Returns a string representation.
        """
        if fmt == 'json':
            return json.dumps(data)
        elif fmt == 'yaml':
>           return yaml.dump(data)
E           NameError: name 'yaml' is not defined

Data_Scientist/src/serializer.py:26: NameError
-------------------------------------------- JSON report --------------------------------------------
report saved to: report.json
====================================== short test summary info ======================================
FAILED Data_Scientist/tests/test_serializer.py::test_yaml_round_trip - NameError: name 'yaml' is n...
FAILED Data_Scientist/tests/test_serializer.py::test_xml_round_trip_simple - AssertionError: asser...
FAILED Data_Scientist/tests/test_serializer.py::test_xml_round_trip_nested - AssertionError: asser...
FAILED Data_Scientist/tests/test_serializer.py::test_cross_language_support - NameError: name 'yam...
FAILED Data_Scientist/tests/test_serializer.py::test_data_integrity_checks - NameError: name 'yaml...
FAILED Data_Scientist/tests/test_serializer.py::test_nested_structures - NameError: name 'yaml' is...
=================================== 6 failed, 35 passed in 0.16s ====================================
